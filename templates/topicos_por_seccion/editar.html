{% extends 'base.html' %}
{% block title %}Editar Asignación de Tópico{% endblock %}

{% block content %}
<h1>Editar Asignación de Tópico</h1>
<form method="POST" class="mt-3">
    <div class="mb-3">
        <label class="form-label">Tópico:</label>
        <select name="topico_id" class="form-select" required>
            {% for t in topicos %}
            <option value="{{ t[0] }}" {% if t[0] == asignacion[1] %}selected{% endif %}>{{ t[1] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Sección:</label>
        <select name="seccion_id" class="form-select" required>
            {% for s in secciones %}
            <option value="{{ s[0] }}" {% if s[0] == asignacion[2] %}selected{% endif %}>
                [{{ s[0] }}] {{ s[1] }} - {{ s[2] }}/{{ s[3] }} - Sección {{ s[4] }}
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Porcentaje/Peso del Tópico:</label>
        <input type="number" step="0.1" name="porcentaje_total" class="form-control" value="{{ asignacion[3] }}" required>
    </div>

    <button type="submit" class="btn btn-primary">Actualizar</button>
    <a href="/topicos/asignaciones" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}
